# 补充笔记

## 知识点

### package.json 中 type 属性

一直没有注意到 `package.json` 中的 `type` 属性，该属性主要提供 Node 使用，具体可以查看[Node Type](https://nodejs.org/api/packages.html#type)

简单的来说该 `type` 字段定义了 Node.js 如何定义该 `package.json` 所在目录下的 `js` 模块的类型。

`type` 字段

-   `commonjs` (默认值)，无扩展名的文件和 `.js` 结尾文件将被视为 `CommonJS`。
-   `module` 无扩展名的文件和 `.js` 结尾文件将被视为 `ES`。

注：不管 `type` 字段的值是多少，`.mjs` 文件总是被当作 `ES` 模块，而 `.cjs` 文件总是被当作 `CommonJS`。

## 问题汇总

### prettier 与 ox 冲突

`ox` 包含了一些默认的 `eslint` 配置，但是与我自用的 `prettier` 有些许冲突，需要做一些简单的配置

-   `./.prettier`

    ```json
    {
        "useTabs": false,
        "tabWidth": 4,
        "singleQuote": false,
        "endOfLine": "auto",
        "trailingComma": "es5",
        "semi": true,
        "bracketSpacing": true
    }
    ```

-   `./xo.config.cjs`

    ```javascript
    module.exports = {
        prettier: true,
    };
    ```
